# Self note for maintainer
# Perform these checks while releasing a version

% git status
- on master
- no extra files

% prove -I lib t
- no warnings

% perl Makefile.PL

% cover -t
- must exceed 80%

% rm MANIFEST
% make manifest
% grep nocommit MANIFEST
- must be empty

% make disttest

# smoke-test
% ./apache.cgi start
- http://localhost:8001/request/parser
- must redirect, no "unimplemented" (except referer)
- http://localhost:8000/
- Click on ALL cgis

% plackup example/01-request.pl
- http://localhost:5000/cgi/01-request.pl
- no "unimplemented" show up

% plackup example/51-wiki.pl
- http://localhost:5000/wiki
- search
- click
- edit an article

# got here - commit!

MINOR
% VERSION=`perl -wne '/^our *\\$VERSION *= *(\d.\d{,4})\d*;$/ or next; print $1+0.0001; last' lib/MVC/Neaf.pm`
% echo $VERSION
- must be x.yyzz

MAJOR
% VERSION=`perl -wne '/^our *\\$VERSION *= *(\d.\d\d)\d*;$/ or next; print $1+0.01; last' lib/MVC/Neaf.pm`
% echo $VERSION
- must be x.yy

# version-bump
% find lib/ -name \*.pm | xargs perl -w -i -p -e 's/^our \$VERSION *=.*;/our \$VERSION = '"$VERSION"';/'
% git diff
- must ONLY contain version bump

% vim -p Changes TODO README.md
- :r !git log --oneline | head -n 20
- todo: remove completed, add new, sort by target version
- readme: catch up with features

% perl Makefile.PL
% make dist

% git commit -a -m "^_^ Version $VERSION released NOCODE"
% git tag "v.$VERSION" -m "Version $VERSION released"
% git push && git push --tags

- upload to CPAN

# ALL FOLKS
